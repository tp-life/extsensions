(()=>{var r,e={5002:function(r,e){var t,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,t=function(r){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const e="The message port closed before a response was received.",t=r=>{const t={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(t).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(r,e=undefined){super(e),this.createItem=r}get(r){return this.has(r)||this.set(r,this.createItem(r)),super.get(r)}}const o=(e,t)=>(...n)=>{r.runtime.lastError?e.reject(new Error(r.runtime.lastError.message)):t.singleCallbackArg||n.length<=1&&!1!==t.singleCallbackArg?e.resolve(n[0]):e.resolve(n)},s=r=>1==r?"argument":"arguments",i=(r,e,t)=>new Proxy(e,{apply:(e,n,o)=>t.call(n,r,...o)});let a=Function.call.bind(Object.prototype.hasOwnProperty);const c=(r,e={},t={})=>{let n=Object.create(null),u={has:(e,t)=>t in r||t in n,get(u,l,g){if(l in n)return n[l];if(!(l in r))return;let m=r[l];if("function"==typeof m)if("function"==typeof e[l])m=i(r,r[l],e[l]);else if(a(t,l)){let e=((r,e)=>function(t,...n){if(n.length<e.minArgs)throw new Error(`Expected at least ${e.minArgs} ${s(e.minArgs)} for ${r}(), got ${n.length}`);if(n.length>e.maxArgs)throw new Error(`Expected at most ${e.maxArgs} ${s(e.maxArgs)} for ${r}(), got ${n.length}`);return new Promise(((s,i)=>{if(e.fallbackToNoCallback)try{t[r](...n,o({resolve:s,reject:i},e))}catch(o){console.warn(`${r} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),t[r](...n),e.fallbackToNoCallback=!1,e.noCallback=!0,s()}else e.noCallback?(t[r](...n),s()):t[r](...n,o({resolve:s,reject:i},e))}))})(l,t[l]);m=i(r,r[l],e)}else m=m.bind(r);else if("object"==typeof m&&null!==m&&(a(e,l)||a(t,l)))m=c(m,e[l],t[l]);else{if(!a(t,"*"))return Object.defineProperty(n,l,{configurable:!0,enumerable:!0,get:()=>r[l],set(e){r[l]=e}}),m;m=c(m,e[l],t["*"])}return n[l]=m,m},set:(e,t,o,s)=>(t in n?n[t]=o:r[t]=o,!0),defineProperty:(r,e,t)=>Reflect.defineProperty(n,e,t),deleteProperty:(r,e)=>Reflect.deleteProperty(n,e)},l=Object.create(r);return new Proxy(l,u)},u=r=>({addListener(e,t,...n){e.addListener(r.get(t),...n)},hasListener:(e,t)=>e.hasListener(r.get(t)),removeListener(e,t){e.removeListener(r.get(t))}}),l=new n((r=>"function"!=typeof r?r:function(e){const t=c(e,{},{getContent:{minArgs:0,maxArgs:0}});r(t)})),g=new n((r=>"function"!=typeof r?r:function(e,t,n){let o,s,i=!1,a=new Promise((r=>{o=function(e){i=!0,r(e)}}));try{s=r(e,t,o)}catch(r){s=Promise.reject(r)}const c=!0!==s&&((u=s)&&"object"==typeof u&&"function"==typeof u.then);var u;if(!0!==s&&!c&&!i)return!1;return(c?s:a).then((r=>{n(r)}),(r=>{let e;e=r&&(r instanceof Error||"string"==typeof r.message)?r.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:e})})).catch((r=>{console.error("Failed to send onMessage rejected reply",r)})),!0})),m=({reject:t,resolve:n},o)=>{r.runtime.lastError?r.runtime.lastError.message===e?n():t(new Error(r.runtime.lastError.message)):o&&o.__mozWebExtensionPolyfillReject__?t(new Error(o.message)):n(o)},f=(r,e,t,...n)=>{if(n.length<e.minArgs)throw new Error(`Expected at least ${e.minArgs} ${s(e.minArgs)} for ${r}(), got ${n.length}`);if(n.length>e.maxArgs)throw new Error(`Expected at most ${e.maxArgs} ${s(e.maxArgs)} for ${r}(), got ${n.length}`);return new Promise(((r,e)=>{const o=m.bind(null,{resolve:r,reject:e});n.push(o),t.sendMessage(...n)}))},p={devtools:{network:{onRequestFinished:u(l)}},runtime:{onMessage:u(g),onMessageExternal:u(g),sendMessage:f.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:f.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},d={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return t.privacy={network:{"*":d},services:{"*":d},websites:{"*":d}},c(r,p,t)};r.exports=t(chrome)}else r.exports=globalThis.browser},void 0===(n=t.apply(e,[r]))||(r.exports=n)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return n.d(e,{a:e}),e},n.d=(r,e)=>{for(var t in e)n.o(e,t)&&!n.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),n.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),(r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"24.1.2.0"},r.SENTRY_RELEASES=r.SENTRY_RELEASES||{},r.SENTRY_RELEASES["wallet@mysten-labs"]={id:"24.1.2.0"},(()=>{"use strict";var r=n(5002),e=n.n(r),t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])},t(r,e)};function o(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function s(r,e){var t,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(t=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(r,i)}catch(r){a=[6,r],n=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function i(r){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var n,o,s=t.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(r){o={error:r}}finally{try{n&&!n.done&&(t=s.return)&&t.call(s)}finally{if(o)throw o.error}}return i}function c(r,e,t){if(t||2===arguments.length)for(var n,o=0,s=e.length;o<s;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return r.concat(n||Array.prototype.slice.call(e))}function u(r){return this instanceof u?(this.v=r,this):new u(r)}function l(r){return"function"==typeof r}function g(r){var e=r((function(r){Error.call(r),r.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var m=g((function(r){return function(e){r(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(r,e){return e+1+") "+r.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function f(r,e){if(r){var t=r.indexOf(e);0<=t&&r.splice(t,1)}}var p=function(){function r(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var r,e,t,n,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var u=i(s),g=u.next();!g.done;g=u.next())g.value.remove(this)}catch(e){r={error:e}}finally{try{g&&!g.done&&(e=u.return)&&e.call(u)}finally{if(r)throw r.error}}else s.remove(this);var f=this.initialTeardown;if(l(f))try{f()}catch(r){o=r instanceof m?r.errors:[r]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var d=i(p),A=d.next();!A.done;A=d.next()){var b=A.value;try{h(b)}catch(r){o=null!=o?o:[],r instanceof m?o=c(c([],a(o)),a(r.errors)):o.push(r)}}}catch(r){t={error:r}}finally{try{A&&!A.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}}if(o)throw new m(o)}},r.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)h(e);else{if(e instanceof r){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}},r.prototype._hasParent=function(r){var e=this._parentage;return e===r||Array.isArray(e)&&e.includes(r)},r.prototype._addParent=function(r){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(r),e):e?[e,r]:r},r.prototype._removeParent=function(r){var e=this._parentage;e===r?this._parentage=null:Array.isArray(e)&&f(e,r)},r.prototype.remove=function(e){var t=this._finalizers;t&&f(t,e),e instanceof r&&e._removeParent(this)},r.EMPTY=((e=new r).closed=!0,e),r;var e}(),d=p.EMPTY;function A(r){return r instanceof p||r&&"closed"in r&&l(r.remove)&&l(r.add)&&l(r.unsubscribe)}function h(r){l(r)?r():r.unsubscribe()}var b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},v={setTimeout:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var o=v.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,c([r,e],a(t))):setTimeout.apply(void 0,c([r,e],a(t)))},clearTimeout:function(r){var e=v.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(r)},delegate:void 0};function y(r){v.setTimeout((function(){var e=b.onUnhandledError;if(!e)throw r;e(r)}))}function x(){}var w=_("C",void 0,void 0);function _(r,e,t){return{kind:r,value:e,error:t}}var S=null;function E(r){if(b.useDeprecatedSynchronousErrorHandling){var e=!S;if(e&&(S={errorThrown:!1,error:null}),r(),e){var t=S,n=t.errorThrown,o=t.error;if(S=null,n)throw o}}else r()}var k=function(r){function e(e){var t=r.call(this)||this;return t.isStopped=!1,e?(t.destination=e,A(e)&&e.add(t)):t.destination=I,t}return o(e,r),e.create=function(r,e,t){return new O(r,e,t)},e.prototype.next=function(r){this.isStopped?L(function(r){return _("N",r,void 0)}(r),this):this._next(r)},e.prototype.error=function(r){this.isStopped?L(_("E",void 0,r),this):(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped?L(w,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(p),T=Function.prototype.bind;function P(r,e){return T.call(r,e)}var C=function(){function r(r){this.partialObserver=r}return r.prototype.next=function(r){var e=this.partialObserver;if(e.next)try{e.next(r)}catch(r){j(r)}},r.prototype.error=function(r){var e=this.partialObserver;if(e.error)try{e.error(r)}catch(r){j(r)}else j(r)},r.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(r){j(r)}},r}(),O=function(r){function e(e,t,n){var o,s,i=r.call(this)||this;return l(e)||!e?o={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=n?n:void 0}:i&&b.useDeprecatedNextContext?((s=Object.create(e)).unsubscribe=function(){return i.unsubscribe()},o={next:e.next&&P(e.next,s),error:e.error&&P(e.error,s),complete:e.complete&&P(e.complete,s)}):o=e,i.destination=new C(o),i}return o(e,r),e}(k);function j(r){var e;b.useDeprecatedSynchronousErrorHandling?(e=r,b.useDeprecatedSynchronousErrorHandling&&S&&(S.errorThrown=!0,S.error=e)):y(r)}function L(r,e){var t=b.onStoppedNotification;t&&v.setTimeout((function(){return t(r,e)}))}var I={closed:!0,next:x,error:function(r){throw r},complete:x},M="function"==typeof Symbol&&Symbol.observable||"@@observable";function N(r){return r}var R=function(){function r(r){r&&(this._subscribe=r)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(r,e,t){var n,o=this,s=(n=r)&&n instanceof k||function(r){return r&&l(r.next)&&l(r.error)&&l(r.complete)}(n)&&A(n)?r:new O(r,e,t);return E((function(){var r=o,e=r.operator,t=r.source;s.add(e?e.call(s,t):t?o._subscribe(s):o._trySubscribe(s))})),s},r.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(e){r.error(e)}},r.prototype.forEach=function(r,e){var t=this;return new(e=F(e))((function(e,n){var o=new O({next:function(e){try{r(e)}catch(r){n(r),o.unsubscribe()}},error:n,complete:e});t.subscribe(o)}))},r.prototype._subscribe=function(r){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(r)},r.prototype[M]=function(){return this},r.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return(0===(t=r).length?N:1===t.length?t[0]:function(r){return t.reduce((function(r,e){return e(r)}),r)})(this);var t},r.prototype.toPromise=function(r){var e=this;return new(r=F(r))((function(r,t){var n;e.subscribe((function(r){return n=r}),(function(r){return t(r)}),(function(){return r(n)}))}))},r.create=function(e){return new r(e)},r}();function F(r){var e;return null!==(e=null!=r?r:b.Promise)&&void 0!==e?e:Promise}function U(r){return function(e){if(function(r){return l(null==r?void 0:r.lift)}(e))return e.lift((function(e){try{return r(e,this)}catch(r){this.error(r)}}));throw new TypeError("Unable to lift unknown Observable type")}}function $(r,e,t,n,o){return new B(r,e,t,n,o)}var B=function(r){function e(e,t,n,o,s,i){var a=r.call(this,e)||this;return a.onFinalize=s,a.shouldUnsubscribe=i,a._next=t?function(r){try{t(r)}catch(r){e.error(r)}}:r.prototype._next,a._error=o?function(r){try{o(r)}catch(r){e.error(r)}finally{this.unsubscribe()}}:r.prototype._error,a._complete=n?function(){try{n()}catch(r){e.error(r)}finally{this.unsubscribe()}}:r.prototype._complete,a}return o(e,r),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var t=this.closed;r.prototype.unsubscribe.call(this),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},e}(k);function D(r,e){return U((function(t,n){var o=0;t.subscribe($(n,(function(t){n.next(r.call(e,t,o++))})))}))}var z=Array.isArray;function Y(r){return D((function(e){return function(r,e){return z(e)?r.apply(void 0,c([],a(e))):r(e)}(r,e)}))}function q(r,e,t){return t?q(r,e).pipe(Y(t)):new R((function(t){var n=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return t.next(1===r.length?r[0]:r)},o=r(n);return l(e)?function(){return e(n,o)}:void 0}))}var W=new R((function(r){return r.complete()}));function H(r){return r<=0?function(){return W}:U((function(e,t){var n=0;e.subscribe($(t,(function(e){++n<=r&&(t.next(e),r<=n&&t.complete())})))}))}var Z=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r},V="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function G(r){if(r instanceof R)return r;if(null!=r){if(function(r){return l(r[M])}(r))return a=r,new R((function(r){var e=a[M]();if(l(e.subscribe))return e.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Z(r))return o=r,new R((function(r){for(var e=0;e<o.length&&!r.closed;e++)r.next(o[e]);r.complete()}));if(l(null==(n=r)?void 0:n.then))return t=r,new R((function(r){t.then((function(e){r.closed||(r.next(e),r.complete())}),(function(e){return r.error(e)})).then(null,y)}));if(function(r){return Symbol.asyncIterator&&l(null==r?void 0:r[Symbol.asyncIterator])}(r))return J(r);if(function(r){return l(null==r?void 0:r[V])}(r))return e=r,new R((function(r){var t,n;try{for(var o=i(e),s=o.next();!s.done;s=o.next()){var a=s.value;if(r.next(a),r.closed)return}}catch(r){t={error:r}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}r.complete()}));if(function(r){return l(null==r?void 0:r.getReader)}(r))return J(function(r){return function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=t.apply(r,e||[]),s=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(r){o[r]&&(n[r]=function(e){return new Promise((function(t,n){s.push([r,e,t,n])>1||a(r,e)}))})}function a(r,e){try{(t=o[r](e)).value instanceof u?Promise.resolve(t.value.v).then(c,l):g(s[0][2],t)}catch(r){g(s[0][3],r)}var t}function c(r){a("next",r)}function l(r){a("throw",r)}function g(r,e){r(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,(function(){var e,t,n;return s(this,(function(o){switch(o.label){case 0:e=r.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,u(e.read())];case 3:return t=o.sent(),n=t.value,t.done?[4,u(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,u(n)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}(r))}var e,t,n,o,a;throw function(r){return new TypeError("You provided "+(null!==r&&"object"==typeof r?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(r)}function J(r){return new R((function(e){(function(r,e){var t,n,o,a,c,u,l,g;return c=this,u=void 0,g=function(){var c,u;return s(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),t=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=r[Symbol.asyncIterator];return t?t.call(r):(r=i(r),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(t){e[t]=r[t]&&function(e){return new Promise((function(n,o){!function(r,e,t,n){Promise.resolve(n).then((function(e){r({value:e,done:t})}),e)}(n,o,(e=r[t](e)).done,e.value)}))}}}(r),s.label=1;case 1:return[4,t.next()];case 2:if((n=s.sent()).done)return[3,4];if(c=n.value,e.next(c),e.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=s.sent(),o={error:u},[3,11];case 6:return s.trys.push([6,,9,10]),n&&!n.done&&(a=t.return)?[4,a.call(t)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))},new((l=void 0)||(l=Promise))((function(r,e){function t(r){try{o(g.next(r))}catch(r){e(r)}}function n(r){try{o(g.throw(r))}catch(r){e(r)}}function o(e){var o;e.done?r(e.value):(o=e.value,o instanceof l?o:new l((function(r){r(o)}))).then(t,n)}o((g=g.apply(c,u||[])).next())}))})(r,e).catch((function(r){return e.error(r)}))}))}var K=g((function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Q=function(r){function e(){var e=r.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return o(e,r),e.prototype.lift=function(r){var e=new X(this,this);return e.operator=r,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new K},e.prototype.next=function(r){var e=this;E((function(){var t,n;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var o=i(e.currentObservers),s=o.next();!s.done;s=o.next())s.value.next(r)}catch(r){t={error:r}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}}))},e.prototype.error=function(r){var e=this;E((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=r;for(var t=e.observers;t.length;)t.shift().error(r)}}))},e.prototype.complete=function(){var r=this;E((function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var e=r.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var e=this,t=this,n=t.hasError,o=t.isStopped,s=t.observers;return n||o?d:(this.currentObservers=null,s.push(r),new p((function(){e.currentObservers=null,f(s,r)})))},e.prototype._checkFinalizedStatuses=function(r){var e=this,t=e.hasError,n=e.thrownError,o=e.isStopped;t?r.error(n):o&&r.complete()},e.prototype.asObservable=function(){var r=new R;return r.source=this,r},e.create=function(r,e){return new X(r,e)},e}(R),X=function(r){function e(e,t){var n=r.call(this)||this;return n.destination=e,n.source=t,n}return o(e,r),e.prototype.next=function(r){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===t||t.call(e,r)},e.prototype.error=function(r){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===t||t.call(e,r)},e.prototype.complete=function(){var r,e;null===(e=null===(r=this.destination)||void 0===r?void 0:r.complete)||void 0===e||e.call(r)},e.prototype._subscribe=function(r){var e,t;return null!==(t=null===(e=this.source)||void 0===e?void 0:e.subscribe(r))&&void 0!==t?t:d},e}(Q);function rr(r){void 0===r&&(r={});var e=r.connector,t=void 0===e?function(){return new Q}:e,n=r.resetOnError,o=void 0===n||n,s=r.resetOnComplete,i=void 0===s||s,a=r.resetOnRefCountZero,c=void 0===a||a;return function(r){var e,n,s,a=0,u=!1,l=!1,g=function(){null==n||n.unsubscribe(),n=void 0},m=function(){g(),e=s=void 0,u=l=!1},f=function(){var r=e;m(),null==r||r.unsubscribe()};return U((function(r,p){a++,l||u||g();var d=s=null!=s?s:t();p.add((function(){0!=--a||l||u||(n=er(f,c))})),d.subscribe(p),!e&&a>0&&(e=new O({next:function(r){return d.next(r)},error:function(r){l=!0,g(),n=er(m,o,r),d.error(r)},complete:function(){u=!0,g(),n=er(m,i),d.complete()}}),G(r).subscribe(e))}))(r)}}function er(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(!0!==e){if(!1!==e){var o=new O({next:function(){o.unsubscribe(),r()}});return G(e.apply(void 0,c([],a(t)))).subscribe(o)}}else r()}function tr(r,e){return U((function(t,n){var o=0;t.subscribe($(n,(function(t){return r.call(e,t,o++)&&n.next(t)})))}))}class nr{static connectToBackgroundService(r){return new nr(e().runtime.connect({name:r}))}constructor(r){var e,t,n,o,s;this._port=r,this._disconnectStream=q((r=>this._port.onDisconnect.addListener(r)),(r=>this._port.onDisconnect.removeListener(r))).pipe(H(1),(o=l(e=()=>this._connected=!1)?{next:e,error:t,complete:n}:e)?U((function(r,e){var t;null===(t=o.subscribe)||void 0===t||t.call(o);var n=!0;r.subscribe($(e,(function(r){var t;null===(t=o.next)||void 0===t||t.call(o,r),e.next(r)}),(function(){var r;n=!1,null===(r=o.complete)||void 0===r||r.call(o),e.complete()}),(function(r){var t;n=!1,null===(t=o.error)||void 0===t||t.call(o,r),e.error(r)}),(function(){var r,e;n&&(null===(r=o.unsubscribe)||void 0===r||r.call(o)),null===(e=o.finalize)||void 0===e||e.call(o)})))})):N,rr()),this._messagesStream=q((r=>this._port.onMessage.addListener(r)),(r=>this._port.onMessage.removeListener(r)),(r=>r)).pipe(rr(),(s=this._disconnectStream,U((function(r,e){G(s).subscribe($(e,(function(){return e.complete()}),x)),!e.closed&&r.subscribe(e)})))),this._connected=!0}get onMessage(){return this._messagesStream}get onDisconnect(){return this._disconnectStream}get connected(){return this._connected}sendMessage(r){if(!this._port)throw new Error("Port to background service worker is not defined");return this._port.postMessage(r),this.createResponseObservable(r.id)}createResponseObservable(r){return this._messagesStream.pipe(tr((e=>e.id===r)),D((r=>{if("error"in(e=r.payload)&&!0===e.error)throw new Error(r.payload.message);var e;return r})))}}function or(r,e,t){return void 0===t&&(t=1/0),l(e)?or((function(t,n){return D((function(r,o){return e(t,r,n,o)}))(G(r(t,n)))}),t):("number"==typeof e&&(t=e),U((function(e,n){return function(r,e,t,n,o,s,i,a){var c=[],u=0,l=0,g=!1,m=function(){!g||c.length||u||e.complete()},f=function(r){return u<n?p(r):c.push(r)},p=function(r){u++;var o=!1;G(t(r,l++)).subscribe($(e,(function(r){e.next(r)}),(function(){o=!0}),void 0,(function(){if(o)try{u--;for(var r=function(){var r=c.shift();p(r)};c.length&&u<n;)r();m()}catch(r){e.error(r)}})))};return r.subscribe($(e,f,(function(){g=!0,m()}))),function(){}}(e,n,r,t)})))}var sr=["addListener","removeListener"],ir=["addEventListener","removeEventListener"],ar=["on","off"];function cr(r,e,t,n){if(l(t)&&(n=t,t=void 0),n)return cr(r,e,t).pipe(Y(n));var o=a(function(r){return l(r.addEventListener)&&l(r.removeEventListener)}(r)?ir.map((function(n){return function(o){return r[n](e,o,t)}})):function(r){return l(r.addListener)&&l(r.removeListener)}(r)?sr.map(ur(r,e)):function(r){return l(r.on)&&l(r.off)}(r)?ar.map(ur(r,e)):[],2),s=o[0],i=o[1];if(!s&&Z(r))return or((function(r){return cr(r,e,t)}))(G(r));if(!s)throw new TypeError("Invalid event target");return new R((function(r){var e=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(1<e.length?e:e[0])};return s(e),function(){return i(e)}}))}function ur(r,e){return function(t){return function(n){return r[t](e,n)}}}class lr{constructor(r,e){if(r===e)throw new Error("[WindowMessageStream] name and target must be different");this._name=r,this._target=e,this.messages=cr(window,"message").pipe(tr((r=>r.source===window&&r.data.target===this._name)),D((r=>r.data.payload)),rr())}send(r){const e={target:this._target,payload:r};window.postMessage(e)}}function gr(r,e){const t=nr.connectToBackgroundService("sui_content<->background");e&&t.sendMessage(e),t.onMessage.subscribe((e=>{r.send(e)}));const n=r.messages.subscribe((r=>{t.sendMessage(r)}));t.onDisconnect.subscribe((e=>{n.unsubscribe(),gr(r)}))}!function(){const r=document.createElement("script");r.setAttribute("src",e().runtime.getURL("dapp-interface.js"));const t=document.head||document.documentElement;t.insertBefore(r,t.firstElementChild),t.removeChild(r)}(),function(){const r=new lr("sui_content-script","sui_in-page");r.messages.pipe(H(1)).subscribe((e=>{gr(r,e)}))}()})()})();
//# sourceMappingURL=content-script.js.map